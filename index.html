<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.15/dist/tailwind.min.css" rel="stylesheet">

  <title>Stable Diffusion Image Generator</title>
  <style>
    /* Additional Custom Styles can be added here */
    /* Adjust the text color of the textarea */
    textarea {
      color: #000;
    }
  </style>
  <script src="https://kit.fontawesome.com/9685c3d611.js" crossorigin="anonymous"></script>
  <style>
    /* Updated Color Scheme */
    body {
      background-color: #1c1c27;
      color: #28293d;
    }

    label,
    h1,
    h2,
    h3,
    p {
      color: white;
    }

    .bg-blue-500 {
      background-color: #3d7bfa;
    }

    .max-h-160 {
      max-height: 80rem
        /* 320px */
      ;
    }

    .min-h-160 {
      min-height: 40rem
    }

    #alert {
      position: fixed;
      top: 2rem;
      /* Adjust this value to set the desired distance from the top */
      right: 2rem;
      /* Adjust this value to set the desired distance from the right */
      z-index: 999;
      /* Adjust this value if necessary to ensure the notification appears above other elements */
      max-width: 42rem;
      min-width: 16rem;
    }

    .fullscreen-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease-in-out;
    }

    .panel {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #1c1c27;
    }

    .fullscreen-overlay.show {
      opacity: 1;
      pointer-events: auto;
    }

    .slider-container {
      width: 50%;
      /* Adjust the width as per your preference */
      display: flex;
      align-items: end;
    }

    code {
      color: white;
      background-color: #131315;
      border-radius: 6px;
      padding-left: 6px;
      padding-right: 6px;
    }

    .border-gradient-blue {
      border-image: linear-gradient(45deg, #00ff87, #60efff);
      border-image-slice: 1;
    }

    .checkerboard {
      background-image:
        /* tint image */
        linear-gradient(to right, rgba(52, 52, 52, 0.75), rgba(64, 64, 64, 0.75)),
        /* checkered effect */
        linear-gradient(to right, black 50%, white 50%),
        linear-gradient(to bottom, black 50%, white 50%);
      background-blend-mode: normal, difference, normal;
      background-size: 2em 2em;
    }

    /* Hide scrollbar for Chrome, Safari and Opera */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    /* Hide scrollbar for IE, Edge and Firefox */
    .no-scrollbar {
      -ms-overflow-style: none;
      /* IE and Edge */
      scrollbar-width: none;
      /* Firefox */
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/css/select2.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
  <header class="py-4 px-8 bg-gray-800 flex justify-between items-center w-full h-16 z-50 fixed mt-0">
    <div class="relative flex items-center">
      <h1 class="text-2xl font-bold mr-4">Stable Diffusion</h1>
      <!-- History link -->
      <a id="historyLink" href="easy-auto1111-ui/history/index.html"
        class="text-white z-10 align-middle hover:text-blue-500">History</a>
    </div>

    <div class="flex justify-center">
      <div class="flex flex-col items-end">
        <label id="userName" class="mr-4 horde">Anonymous</label>
        <span id="tokenAmount" class="horde mr-4 text-sm text-gray-500"></span>
      </div>

      <label for="nodes-toggle"
        class="comfyui mr-4 flex items-center text-white rounded-lg bg-blue-500 px-4 py-2 cursor-pointer">
        <input type="checkbox" id="nodes-toggle">
        <span class="ml-2">Node View</span>
      </label>
      <label for="loras-toggle"
        class="automatic1111 horde mr-4 flex items-center text-white rounded-lg bg-blue-500 px-4 py-2 cursor-pointer">
        <input type="checkbox" id="loras-toggle">
        <span class="ml-2">Show Loras</span>
      </label>
      <button data-modal-target="settingsModal" data-modal-toggle="settingsModal"
        class="block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
        type="button">
        <i class="fas fa-cog"></i> <!-- Settings Icon -->
      </button>
    </div>
  </header>







  <!-- Paint modal -->
  <div id="paintModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-2xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Paint
          </h3>
          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="paintModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class="p-6 space-y-6">
          <!-- Brush controls -->
          <div class="flex items-center mt-4 z-10 space-x-4 ">
            <label for="brush-size">Brush Size:</label>
            <input type="range" id="brush-size" min="5" max="100" step="1" value="10">
            <button id="clear-button" class="px-4 py-2 bg-red-500 text-white rounded">Clear Canvas</button>
            <label for="eraser-toggle" class="flex items-center">
              Eraser:
              <input type="checkbox" id="eraser-toggle" class="h-6 w-6 ml-2">
            </label>
          </div>

          <!-- The div containing image and canvas -->
          <div class="relative">
            <!-- The image -->
            <img src="image.png" alt="Image" class="w-full" id="image">

            <!-- The drawable canvas -->
            <canvas id="drawable-canvas" class="absolute top-0 left-0 opacity-75"
              style="background: transparent;"></canvas>
          </div>
        </div>



        <!-- Modal footer -->
        <div class="flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600">
          <button id="paintDoneBtn" data-modal-hide="paintModal" type="button"
            class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Done</button>
          <button data-modal-hide="paintModal" type="button"
            class="text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  <!--End Paint Modal-->


  <!--Canvas modal-->
  <!-- Main modal -->
  <div id="canvasModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-6xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Outpaint WIP
          </h3>
          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="canvasModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class="p-6 space-y-6">

          < <input type="file" id="canvas_imageInput" class="mb-4 bg-gray-700 p-2 rounded">
            <div class="flex items-center space-x-4 mb-4">
              <label for="canvas_CanvasRatio">Canvas Ratio:</label>
              <input type="range" id="canvas_CanvasRatio" class="w-56 bg-gray-700 text-white" min="-1" max="1"
                step="0.05" value="0">
              <span class="text-white ml-2 w-64">
                <input type="number" id="canvas_CanvasWidth" class="bg-transparent text-white w-16" min="512" max="1024"
                  step="32" value="512">
                <span class="mx-1">x</span>
                <input type="number" id="canvas_CanvasHeight" class="bg-transparent text-white w-16" min="512"
                  max="1024" step="32" value="512">
              </span>
            </div>

            <div class="flex items-center space-x-4 mb-4">
              <label for="canvas_imageScale">Image Scale:</label>
              <input type="range" id="canvas_imageScale" class="w-56 bg-gray-700 text-white" min="0.2" max="1"
                step="0.01" value="0.5">
              <input type="number" id="canvas_imageScaleValue" class="text-white bg-transparent w-16" min="0.2" max="1"
                step="0.01" value="0.5">
            </div>


            <div class="relative">
              <canvas id="canvas_imageCanvas" class="border-2 border-gradient-blue checkerboard" width="800"
                height="600"></canvas>
              <div id="canvas_imageWrapper" class="absolute top-0 left-0 pointer-events-none"></div>
            </div>

            <button id="canvas_exportImage" class="bg-green-500 text-white px-4 py-2 rounded mt-4">Export Canvas
              Image</button>

        </div>
        <!-- Modal footer -->
        <div class="flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600">
          <button data-modal-hide="canvasModal" type="button"
            class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">I
            accept</button>
          <button data-modal-hide="canvasModal" type="button"
            class="text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">Decline</button>
        </div>
      </div>
    </div>
  </div>

  <!--End Canvas modal-->


  <!-- Upscale Modal-->
  <!-- Modal toggle -->
  <button data-modal-target="defaultModal" data-modal-toggle="defaultModal"
    class="block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
    type="button">
    Toggle modal
  </button>

  <!-- Main modal -->
  <div id="defaultModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-2xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Upscale
          </h3>
          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="defaultModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class="p-6 space-y-6">


          <!--Tab Buttons-->
          <div class="mb-4 border-b border-gray-200 dark:border-gray-700">
            <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="myTab"
              data-tabs-toggle="#myTabContent" role="tablist">
              <li class="mr-2" role="presentation">
                <button class="inline-block p-4 border-b-2 rounded-t-lg" id="ultimate-upscale-tab"
                  data-tabs-target="#ultimate-upscale" type="button" role="tab" aria-controls="ultimate-upscale"
                  aria-selected="false">Ultimate Upscale</button>
              </li>
              <li class="mr-2" role="presentation">
                <button
                  class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"
                  id="sd-upscale-tab" data-tabs-target="#sd-upscale" type="button" role="tab" aria-controls="sd-upscale"
                  aria-selected="false">SD Upscale</button>
              </li>
              <li class="mr-2" role="presentation">
                <button
                  class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"
                  id="esrgan-upscale-tab" data-tabs-target="#esrgan-upscale" type="button" role="tab"
                  aria-controls="esrgan-upscale" aria-selected="false">ESRGAN Upscale</button>
              </li>
              <li role="presentation">
                <button
                  class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"
                  id="latent-upscale-tab" data-tabs-target="#latent-upscale" type="button" role="tab"
                  aria-controls="latent-upscale" aria-selected="false">Latent Upscale</button>
              </li>
            </ul>
          </div>
          <!--End Tab Buttons-->

          <div id="myTabContent">
            <div id="myTabContent">
              <!--Ultimate Upscale-->

              <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="ultimate-upscale" role="tabpanel"
                aria-labelledby="ultimate-upscale-tab">
                <p class="text-sm text-gray-500 dark:text-gray-400">Use the <a
                    href="https://github.com/Coyote-A/ultimate-upscale-for-automatic1111"
                    class="text-blue-500 underline">Ultimate Upscale</a> Script to
                  Upscale the current Image. Requires you to have the extension installed</p>

                <h2 class="text-lg font-semibold mt-4">Settings</h2>


                <!-- Slider for Scale -->
                <label for="ultimate-upscale-scale" class="block mt-2" title="Amount to Upscale">
                  <span class="mr-2">Scale:</span>
                  <input id="scale-value" type="number" value="2" min="1" max="4" step="0.01"
                    class="w-16 bg-transparent">
                </label>
                <input id="ultimate-upscale-scale" type="range" value="2" min="1" max="4" step="0.01" class="w-full">

                <!-- Slider for Denoising Strength -->
                <label for="ultimate-upscale-denoising-strength" class="block mt-2" title="Recommended 0.2-0.5">
                  <span class="mr-2">Denoising Strength:</span>
                  <input id="denoising-strength-value" type="number" value="0.3" min="0" max="1" step="0.01"
                    class="w-16 bg-transparent">
                </label>
                <input id="ultimate-upscale-denoising-strength" type="range" value="0.3" min="0" max="1" step="0.01"
                  class="w-full">


                <script>
                  // Update the scale value display when the scale input or slider is changed
                  const scaleInput = document.getElementById("scale-value");
                  const scaleSlider = document.getElementById("ultimate-upscale-scale");

                  scaleInput.addEventListener("input", () => {
                    scaleSlider.value = scaleInput.value;
                  });

                  scaleSlider.addEventListener("input", () => {
                    scaleInput.value = scaleSlider.value;
                  });

                  // Update the denoising strength value display when the denoising strength input or slider is changed
                  const denoisingInput = document.getElementById("denoising-strength-value");
                  const denoisingSlider = document.getElementById("ultimate-upscale-denoising-strength");

                  denoisingInput.addEventListener("input", () => {
                    denoisingSlider.value = denoisingInput.value;
                  });

                  denoisingSlider.addEventListener("input", () => {
                    denoisingInput.value = denoisingSlider.value;
                  });
                </script>
                <div class="flex max-w-full">
                  <div class="mb-2">
                    <label for="ultimate-upscale-upscaler_index" class="block">Upscaler</label>
                    <select id="ultimate-upscale-upscaler_index"
                      class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                      <option value="0">None</option>
                      <option value="1">Lanczos</option>
                      <!-- Include other upscaler options -->
                    </select>
                  </div>

                  <div class="ml-2">
                    <label for="ultimate-upscale-redraw_mode" class="block">Type</label>
                    <select id="ultimate-upscale-redraw_mode"
                      class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                      <option value="0">Linear</option>
                      <option value="1">Chess</option>
                      <!-- Include other type options -->
                    </select>
                  </div>
                </div>



                <h2 class="text-lg font-semibold mt-4">Seams Fix</h2>

                <div class="mb-2 w-80">
                  <label for="ultimate-upscale-seams_fix_type" class="block">Seams Fix Type</label>
                  <select id="ultimate-upscale-seams_fix_type"
                    class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                    <option value="0">None</option>
                    <option value="1">Band pass</option>
                    <option value="2">Half tile offset pass</option>
                    <option value="3">Half tile offset pass + intersections</option>
                    <!-- Include other upscaler options -->
                  </select>
                </div>

                <div id="seamsFixOptionsContainer" class="hidden">
                  <div class="flex space-x-4 mb-2">
                    <div class="flex-1">
                      <label for="ultimate-upscale-seams_fix_denoise" class="block mt-2" title="Denoise">
                        <span class="mr-2">Denoise:</span>
                        <input id="ultimate-upscale-seams_fix_denoise-value" type="number" value="0.35" min="0" max="1"
                          step="0.01" class="w-16 bg-transparent">
                      </label>
                      <input id="ultimate-upscale-seams_fix_denoise" type="range" value="0.35" min="0" max="1"
                        step="0.01" class="w-full">
                    </div>

                    <div class="flex-1">
                      <label for="ultimate-upscale-seams_fix_width" class="block mt-2" title="Width">
                        <span class="mr-2">Width:</span>
                        <input id="ultimate-upscale-seams_fix_width-value" type="number" value="64" min="0" max="128"
                          step="1" class="w-16 bg-transparent">
                      </label>
                      <input id="ultimate-upscale-seams_fix_width" type="range" value="64" min="0" max="128" step="1"
                        class="w-full">
                    </div>

                    <div class="flex-1">
                      <label for="ultimate-upscale-seams_fix_padding" class="block mt-2" title="Padding">
                        <span class="mr-2">Padding:</span>
                        <input id="ultimate-upscale-seams_fix_padding-value" type="number" value="8" min="0" max="128"
                          step="1" class="w-16 bg-transparent">
                      </label>
                      <input id="ultimate-upscale-seams_fix_padding" type="range" value="8" min="0" max="128" step="1"
                        class="w-full">
                    </div>
                  </div>

                  <script>
                    // Update the denoising value display when the denoising input or slider is changed
                    const uu_denoisingInput = document.getElementById("ultimate-upscale-seams_fix_denoise-value");
                    const uu_denoisingSlider = document.getElementById("ultimate-upscale-seams_fix_denoise");

                    uu_denoisingInput.addEventListener("input", () => {
                      uu_denoisingSlider.value = uu_denoisingInput.value;
                    });

                    uu_denoisingSlider.addEventListener("input", () => {
                      uu_denoisingInput.value = uu_denoisingSlider.value;
                    });

                    // Update the width value display when the width input or slider is changed
                    const uu_widthInput = document.getElementById("ultimate-upscale-seams_fix_width-value");
                    const uu_widthSlider = document.getElementById("ultimate-upscale-seams_fix_width");

                    uu_widthInput.addEventListener("input", () => {
                      uu_widthSlider.value = uu_widthInput.value;
                    });

                    uu_widthSlider.addEventListener("input", () => {
                      uu_widthInput.value = uu_widthSlider.value;
                    });

                    // Update the padding value display when the padding input or slider is changed
                    const uu_paddingInput = document.getElementById("ultimate-upscale-seams_fix_padding-value");
                    const uu_paddingSlider = document.getElementById("ultimate-upscale-seams_fix_padding");

                    uu_paddingInput.addEventListener("input", () => {
                      uu_paddingSlider.value = uu_paddingInput.value;
                    });

                    uu_paddingSlider.addEventListener("input", () => {
                      uu_paddingInput.value = uu_paddingSlider.value;
                    });
                  </script>




                </div>
                <!-- Submit button -->
                <button id="ultimateUpscaleBtn" data-modal-target="defaultModal" data-modal-toggle="defaultModal"
                  class="mt-4 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600">Upscale</button>
              </div>


              <script>
                document.getElementById("ultimate-upscale-seams_fix_type").addEventListener("change", (e) => {
                  if (e.target.value == 0) {
                    document.getElementById("seamsFixOptionsContainer").classList.add("hidden");
                  } else {
                    document.getElementById("seamsFixOptionsContainer").classList.remove("hidden");
                  }
                })
              </script>

            </div>


            <!-- Repeat similar content for other tabs -->
          </div>

          <!--Sd Upscale-->
          <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="sd-upscale" role="tabpanel"
            aria-labelledby="sd-upscale-tab">
            <p class="text-sm text-gray-500 dark:text-gray-400">Use SD Upscale Script to Upscale the current Image</p>

            <!-- Slider for Scale -->
            <label for="sd-upscale-scale" class="block mt-2" title="Amount to Upscale">
              <span class="mr-2">Scale:</span>
              <input id="sd-scale-value" type="number" value="2" min="1" max="4" step="0.01"
                class="w-16 bg-transparent">
            </label>
            <input id="sd-upscale-scale" type="range" value="2" min="1" max="4" step="0.01" class="w-full">

            <!-- Slider for Denoising Strength -->
            <label for="sd-upscale-denoising-strength" class="block mt-2" title="Recommended 0.2-0.4">
              <span class="mr-2">Denoising Strength:</span>
              <input id="sd-denoising-strength-value" type="number" value="0.25" min="0" max="1" step="0.01"
                class="w-16 bg-transparent">
            </label>
            <input id="sd-upscale-denoising-strength" type="range" value="0.25" min="0" max="1" step="0.01"
              class="w-full">

            <!-- Slider for Tile Overlap -->
            <label for="sd-upscale-tile_overlap" class="block mt-2"
              title="For SD upscale, how much overlap in pixels should there be between tiles. Tiles overlap so that when they are merged back into one picture, there is no clearly visible seam.">
              <span class="mr-2">Tile Overlap:</span>
              <input id="sd-upscale-tile_overlap-value" type="number" value="64" min="0" max="256" step="16"
                class="w-16 bg-transparent">
            </label>
            <input id="sd-upscale-tile_overlap" type="range" value="64" min="0" max="256" step="16" class="w-full">


            <div class="mb-2">
              <label for="sd-upscale-upscaler_index" class="block">Upscaler</label>
              <select id="sd-upscale-upscaler_index"
                class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                <option value="0">None</option>
                <option value="1">Lanczos</option>
                <!-- Include other upscaler options -->
              </select>
            </div>

            <script>
              // Update the scale value display when the scale input or slider is changed
              const sd_scaleInput = document.getElementById("sd-scale-value");
              const sd_scaleSlider = document.getElementById("sd-upscale-scale");

              sd_scaleInput.addEventListener("input", () => {
                sd_scaleSlider.value = sd_scaleInput.value;
              });

              sd_scaleSlider.addEventListener("input", () => {
                sd_scaleInput.value = sd_scaleSlider.value;
              });

              const sd_tile_overlap = document.getElementById("sd-upscale-tile_overlap")
              const sd_tile_overlap_value = document.getElementById("sd-upscale-tile_overlap-value")

              sd_tile_overlap.addEventListener("input", () => {
                sd_tile_overlap_value.value = sd_tile_overlap.value;
              });
              sd_tile_overlap_value.addEventListener("input", () => {
                sd_tile_overlap.value = sd_tile_overlap_value.value;
              });

              // Update the denoising strength value display when the denoising strength input or slider is changed
              const sd_denoisingInput = document.getElementById("sd-denoising-strength-value");
              const sd_denoisingSlider = document.getElementById("sd-upscale-denoising-strength");

              sd_denoisingInput.addEventListener("input", () => {
                sd_denoisingSlider.value = sd_denoisingInput.value;
              });

              sd_denoisingSlider.addEventListener("input", () => {
                sd_denoisingInput.value = sd_denoisingSlider.value;
              });
            </script>

            <button id="SDUpscaleBtn" data-modal-target="defaultModal" data-modal-toggle="defaultModal"
              class="mt-4 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600">Upscale</button>
          </div>

        </div>

        <!-- Esrgan Upscale -->
        <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="esrgan-upscale" role="tabpanel"
          aria-labelledby="esrgan-upscale-tab">
          <p class="text-sm text-gray-500 dark:text-gray-400">This is some placeholder content for the <strong
              class="font-medium text-gray-800 dark:text-white">ESRGAN Upscale</strong> tab's associated content.
            Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes
            to control the content visibility and styling.</p>
        </div>
        <!-- Latent Upscale -->
        <div class="hidden p-4 rounded-lg bg-gray-50 dark:bg-gray-800" id="latent-upscale" role="tabpanel"
          aria-labelledby="latent-upscale-tab">
          <p class="text-sm text-gray-500 dark:text-gray-400">This is some placeholder content for the <strong
              class="font-medium text-gray-800 dark:text-white">Latent Upscale</strong> tab's associated content.
            Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes
            to control the content visibility and styling.</p>
        </div>
      </div>





    </div>

  </div>
  </div>
  </div>
  <!-- End Upscale Modal-->



  <!--Lora Info Modal-->
  <!-- Modal toggle -->
  <button id="loraModalToggle" data-modal-target="loraInfoModal" data-modal-toggle="loraInfoModal"
    class="block hidden text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 z-50 hidden"
    type="button">
    Toggle modal
  </button>
  <!-- Main modal -->
  <div id="loraInfoModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-2xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Lora Info
          </h3>
          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="loraInfoModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class="p-6 space-y-6">
          <div class="flex items-start">
            <!-- Image on the left -->
            <img id="loraInfoImage" src="img/card-no-preview.png" alt="Card Preview" class="w-48 h-auto">

            <!-- Text on the right -->
            <div class="ml-4">
              <div class="flex items-center">
                <h2 id="loraName" class="text-2xl font-bold">Lora Name</h2>
                <a id="loraLink" href="#" target="_blank"
                  class="flex items-center justify-center h-12 w-12 rounded-full bg-transparent">
                  <i class="fa-solid fa-globe text-blue-500"></i>
                </a>
              </div>

              <p id="loraDesc" class="text-gray-50">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a
                efficitur diam, a
                tincidunt lacus. Curabitur facilisis tempor ante, at viverra orci auctor eget. Aliquam tincidunt nibh
                vitae erat commodo, at rutrum odio vehicula. Cras purus eros, blandit sed condimentum eget, finibus sit
                amet purus. </p>
              <div id="loraMetadata" class="mt-4">
                <p class="border-b-2"><b>Metadata:</b> <span id="metadataValue">Value</span></p>
              </div>

            </div>
          </div>

          <div id="datasetTagsContainer" class="border-2 rounded-lg w-full p-4">
            <h2 class="text-lg font-bold mb-4">Training dataset tags</h2>
            <div class="max-h-48 overflow-y-auto">
              <div id="datasetTags" class="flex flex-wrap gap-2">
                <!-- Tags added through script go here -->
              </div>
            </div>
          </div>

          <p><b>Activation Text:</b> <span id="loraActivationText" class="text-blue-400">Placeholder Text</span></p>

          <div class="flex items-center">
            <p class="mr-2"><b>Preferred Weight:</b></p>
            <span id="loraPreferredWeight" class="text-blue-400 mr-2">1</span>
          </div>

          <div id="loraNotesContainer">
            <h3><b>Notes</b></h3>
            <div class="max-h-96 overflow-auto">
              <p id="loraNotes"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris feugiat lobortis nibh a
                varius. Donec tempor sapien augue, id lobortis nulla rhoncus fringilla. Mauris sed dui vitae quam
                bibendum
                placerat a sit amet quam. Mauris tincidunt faucibus quam, id eleifend est aliquam a. Nunc convallis,
                tortor
                convallis ullamcorper pellentesque, sapien tellus dignissim felis, quis fermentum metus ligula in elit.
                Pellentesque hendrerit facilisis elit, vitae pretium quam scelerisque vitae. Nunc rhoncus tincidunt
                ligula
                vitae dapibus. Vestibulum ut condimentum mi. Nunc sit amet scelerisque orci, volutpat fringilla nibh.
                Suspendisse maximus porttitor ultrices. Integer at justo a neque condimentum faucibus non dictum ante.
                Proin
                in ante massa. Nullam sapien justo, vestibulum ut neque vitae, vestibulum laoreet nunc. Duis dictum
                nulla
                sed turpis rhoncus hendrerit. Maecenas eget orci quis neque porta rhoncus vitae in justo. </p>
            </div>
          </div>

          <div id="loraCivitDescContainer">
            <h3><b>Model Description</b></h3>
            <p id="loraCivitDesc">Civitai Desc</p>
          </div>


        </div>


        <!-- Modal footer -->
        <div class="flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600">
          <button id="loraUseBtn" data-modal-hide="loraInfoModal" type="button"
            class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Use</button>
          <button data-modal-hide="loraInfoModal" type="button"
            class="text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-50 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!--End Lora Info Modal-->

  <!--FullScreenModal-->

  <button id="imageDetailToggle" data-modal-target="ImageDetailModal" data-modal-toggle="ImageDetailModal"
    class="block hidden text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 z-50 hidden"
    type="button">
    Toggle modal
  </button>

  <!-- Main modal -->
  <div id="ImageDetailModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-6xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Image Details
          </h3>
          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="ImageDetailModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class="max-w-8xl mx-auto my-8 p-4 flex flex-col md:flex-row max-h-full">
          <img id="fullscreenImage" src="image.png" alt="Image"
            class="md:w-2/3 h-auto object-cover rounded-lg float-left mr-4">

          <p id="fullscreenInfo" class="md:w-1/2 text-base leading-relaxed text-white">
            Hello There
          </p>
        </div>


        <!-- Modal footer -->

      </div>
    </div>
  </div>
  <!--End FullScreenModal-->


  <!--Settings Modal-->
  <!-- Modal toggle -->


  <!-- Main modal -->
  <div id="settingsModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-2xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Settings
          </h3>
          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="settingsModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class="p-6 space-y-6">
          <!--Server-->
          <div class="flex space-x-6">
            <div class="w-1/2">
              <label class="block text-lg font-semibold">Server Type</label>
              <select id="serverTypeDropdown"
                class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                <option value="Automatic1111">Automatic1111</option>
                <option value="ComfyUI">ComfyUI WIP</option>
                <option value="Horde">AI Horde</option>
              </select>
            </div>
            <div class="w-1/2 automatic1111 comfyui">
              <label class="block text-lg font-semibold">URL</label>
              <div class="relative">
                <input id="urlInput" type="url"
                  class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                  value="http://127.0.0.1:7860" />
              </div>
            </div>
            <div class="w-1/2 horde">
              <label class="block text-lg font-semibold">Token</label>
              <div class="relative">
                <input id="tokenInput"
                  class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                  value="0000000000" />
              </div>
            </div>
          </div>

          <div class="flex flex-col">
            <label class="relative inline-flex items-center cursor-pointer dark mb-4 horde">
              <input id="unBlurOnHover" type="checkbox" value="" class="sr-only peer">
              <div
                class="w-11 h-6 peer-focus:outline-none peer-focus:ring-4  peer-focus:ring-blue-800 rounded-full peer bg-gray-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all border-gray-600 peer-checked:bg-blue-600">
              </div>
              <span class="ml-3 text-sm font-medium  text-gray-300">Unblur Blurred Images On Hover</span>
            </label>
            <label class="relative inline-flex items-center cursor-pointer dark mb-4 horde" >
              <input id="civitRandomImage" type="checkbox" value="" class="sr-only peer">
              <div
                class="w-11 h-6 peer-focus:outline-none peer-focus:ring-4  peer-focus:ring-blue-800 rounded-full peer bg-gray-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all border-gray-600 peer-checked:bg-blue-600">
              </div>
              <span title="Idk why I added this" class="ml-3 text-sm font-medium  text-gray-300">Select Random Image From
                CivitAi</span>
            </label>



          </div>


          <!-- Modal footer -->
          <div class="flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600">
            <button data-modal-hide="settingsModal" type="button"
              class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- End Settings Modal-->
  </div>

  <!--Model Modal-->
  <div id="modelModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-4xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Models
          </h3>
          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="modelModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class=" space-y-6">
          <div class="flex bg-gray-900 text-white h-1/4">
            <!-- Sidebar -->
            <div class="w-1/4 bg-gray-800 p-6">
              <input id="horde_search" type="text" placeholder="Search models..."
                class="bg-gray-700 text-white rounded-md px-3 py-2 w-full mb-4 focus:outline-none focus:ring focus:border-blue-300">

              <ul id="modelList" class="space-y-2 overflow-y-auto max-h-[37rem]">
                <li class="cursor-pointer hover:text-blue-500">Model Name 1</li>
                <li class="cursor-pointer hover:text-blue-500">Model Name 2</li>
                <!-- Add more model names here -->
              </ul>
            </div>

            <!-- Main Content -->
            <div class="w-3/4 p-6 overflow-y-auto max-h-[42rem]">
              <h2 class="text-xl font-bold" id="horde_modelName">Model Name</h2>
              <a href="#" class="text-blue-500 hover:underline" id="horde_homepageLink">Homepage Link</a>

              <p class="text-gray-400 mt-4">Workers: <span id="horde_workersAmount">X</span> / Requests : <span
                  id="horde_requestsAmount">X</span></p>
              <p class="text-gray-400">Style: <span id="horde_style">generalist</span></p>
              <p class="text-gray-400">Version: <span id="horde_versionNumber">1.0</span></p>

              <p class="text-gray-400 mt-4" id="horde_description">Lorem ipsum dolor sit amet, consectetur adipiscing
                elit.</p>
              <img id="horde_image"
                src="https://raw.githubusercontent.com/Haidra-Org/AI-Horde-image-model-reference/main/showcase/stable_diffusion/01_racebannin.webp"
                alt="Model Image" class="max-w-full mt-4">
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>


  </div>
  </div>
  </div>
  <!-- End Model Modal-->

  <!-- Civiai Modal-->
  <!-- Modal toggle -->
  <button id="civitAIModalToggle" data-modal-target="civitAIModal" data-modal-toggle="civitAIModal"
    class="hidden block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
    type="button">
    Toggle modal
  </button>

  <!-- Main modal -->
  <div id="civitAIModal" tabindex="-1" aria-hidden="true"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-8xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700 h-[100%-2rem]">
        <!-- Modal header -->
        <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Model
            <a id="civitModalLink" target="_blank">
              <i class="my-auto fa-solid fa-up-right-from-square" style="color: #0000EE;"></i>
            </a>
          </h3>

          <button type="button"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="civitAIModal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
          </button>
        </div>
        <!-- Modal body -->
        <div class="space-y-6 h-full overflow-y-hidden">
          <iframe id="civitIframe" class="w-full h-[90vh] mt-[-4.5rem]"></iframe>
        </div>
      </div>
    </div>
  </div>
  <!-- End Civiai Modal-->



  <!--Alert-->
  <div id="alert"
    class="p-4 mb-4 text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800 hidden"
    role="alert">
    <div class="flex items-center">
      <svg class="flex-shrink-0 w-4 h-4 mr-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
        viewBox="0 0 20 20">
        <path
          d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
      </svg>
      <span class="sr-only">Error</span>
      <h3 class="text-lg font-medium">Error</h3>
    </div>
    <div class="mt-2 mb-4 text-sm" id="errorMessage">
      More info about this info danger goes here. This example text is going to run a bit longer so that you can see how
      spacing within an alert works with this kind of content.
    </div>
    <div class="flex">
      <button id="dismissButton" type="button"
        class="text-red-800 bg-transparent border border-red-800 hover:bg-red-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-red-600 dark:border-red-600 dark:text-red-500 dark:hover:text-white dark:focus:ring-red-800"
        data-dismiss-target="#alert-additional-content-2" aria-label="Close">
        Dismiss
      </button>
    </div>
  </div>
  <!-- Filters Drawer-->

  <div class="flex items-center justify-center p-4">
    <!-- Dropdown menu -->
    <div id="dropdown" class="z-10 hidden w-56 p-3 bg-white rounded-lg shadow dark:bg-gray-700">
      <h5 id="drawer-label"
        class="inline-flex items-center mb-4 text-base font-semibold text-gray-500 uppercase dark:text-gray-400">
        Apply filters
      </h5>
      <ul class="space-y-2 text-sm" aria-labelledby="dropdownDefault">
        <li class="flex items-center">
          <input id="civitai_nsfw" type="checkbox" value=""
            class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500" />

          <label for="civitai_nsfw" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">
            NSFW
          </label>
        </li>
        <li class="flex items-center">
          <input id="civitai_favorites" type="checkbox" value=""
            class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500" />

          <label for="civitai_favorites" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">
            Only Favorites
          </label>
        </li>

        <li class="flex items-center">
          <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">
            Sort By:
          </label>
          <select id="civitai_sort"
            class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
            <option>Highest Rated</option>
            <option>Most Downloaded</option>
            <option>Newest</option>
            
          </select>
        </li>
        <li class="flex items-center">
          <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">
            Period:
          </label>
          <select id="civitai_period"
            class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
            <option>AllTime</option>
            <option>Year</option>
            <option>Month</option>
            <option>Week</option>
            <option>Day</option>
          </select>
        </li>


        <!-- Add the new NSFW level selection here -->
        <li class="flex items-center">
          <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">
            NSFW Level:
          </label>
          <select id="civitai_nsfw_level"
            class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
            <option value="0">None</option>
            <option value="1">Soft</option>
            <option value="2">Mature</option>
            <option value="3">X</option>
          </select>
        </li>
        <li>
          <!--Rating-->



        </li>
      </ul>
      <button id="filterButton"
        class="mt-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">Search</button>
      <button id="clearBtn" type="button"
        class="mt-4 ml-2 text-blue-600 hover:underline dark:text-blue-500">Clear</button>
    </div>
  </div>
  <!-- End Filters Drawer-->

  <!--Main Body-->
  <div class="flex flex-col md:flex-row md:h-screen w-screen md:fixed">
    <!-- Image side... -->
    <div class="w-full md:w-1/2 p-4 md:pl-8 md:pr-4 h-full pb-8">
      <!-- Content goes here -->

      <!--Generate Button-->
      <div class="mb-6 flex justify-center md:justify-start">
        <button id="generateBtn"
          class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg text-lg">
          Generate
        </button>
        <button id="cancelBtn"
          class="ml-2 hidden bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-6 rounded-lg text-lg">
          Cancel
        </button>
      </div>
      <div id="progress_bar" class="hidden w-full mb-1 bg-gray-200 rounded-full dark:bg-gray-700">
        <div id="progress_bar_progress"
          class="bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full"
          style="width: 45%"> 12s</div>
      </div>
      <!-- Image max width height max to the screen plus place for image option buttons -->
      <div id="imageDisplay" class="border border-gray-500 p-4 rounded-lg relative">

        <img data-modal-target="ImageDetailModal" data-modal-toggle="ImageDetailModal" id="outputImage"
          src="placeholder.png" alt="Generated Image" class="object-contain h-full w-full rounded-md">
        <!-- Overlay div -->
        <div id="progress_container"
          class="hidden absolute inset-0 flex flex-col items-center justify-center text-white bg-black bg-opacity-75  rounded-md">
          <div id="queue_container" class="hidden">
            <div id="queue_number" class="text-6xl font-bold">42</div>
            <div class="mt-2 text-lg">In Queue...</div>
          </div>

          <div id="states_container" class="hidden mt-4 flex space-x-6">
            <div class="text-center">
              <div id="waitingNumber" class="text-4xl font-bold">3</div>
              <div class="mt-2 text-lg">waiting</div>
            </div>
            <div class="text-center">
              <div id="processingNumber" class="text-4xl font-bold">2</div>
              <div class="mt-2 text-lg">processing</div>
            </div>
            <div class="text-center">
              <div id="finishedNumber" class="text-4xl font-bold">1</div>
              <div class="mt-2 text-lg">Finished</div>
            </div>
          </div>
        </div>
        <!-- Image buttons -->
        <div id="imgButtons" class="flex justify-center mt-2 space-x-2 bottom-0">
        </div>
      </div>

      <!--Image Option Buttons-->
      <div id="generatedImageOptions" class="flex justify-center mt-4 mb-4 gap-3 h-12">
        <button id="downloadBtn"
          class="border-2 border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white font-semibold py-2 px-4 rounded">
          <i class="fas fa-download mr-2"></i> Download
        </button>
        <button id="useImageBtn"
          class="automatic1111 horde border-2 border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white font-semibold py-2 px-4 rounded">
          <i class="fa-regular fa-image"></i> Use Image
        </button>
        <button data-modal-target="defaultModal" data-modal-toggle="defaultModal"
          class="automatic1111 border-2 border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white font-semibold py-2 px-4 rounded">
          <i class="fa-solid fa-arrow-up"></i> Upscale
        </button>
      </div>
    </div>



    <!-- Input Side... -->
    <div class="w-full md:w-1/2  p-4 md:overflow-y-auto md:max-h-screen">

      <!-- Content goes here -->
      <div class="automatic1111 horde">

        <div class="flex">
          <label class="block text-lg font-semibold mb-2">Prompt</label>

          <!-- Styles DropDown -->
          <div class="relative ml-auto">
            <button id="stylesDropdownButton"
              class="automatic1111 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
              Select Styles
            </button>
            <div id="stylesDropdown"
              class="absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-md hidden overflow-y-auto max-h-96">
              <!-- The styles will be added dynamically here -->
            </div>
          </div>
        </div>


        <div class="mb-6">
          <textarea id="prompt"
            class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">(masterpiece:1.2, best quality),</textarea>
        </div>

        <div class="mb-6">
          <label class="block text-lg font-semibold mb-2">Negative Prompt</label>
          <textarea id="negativePrompt"
            class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">extra fingers,fewer fingers,(low quality, worst quality:1.4), (bad anatomy), (inaccurate limb:1.2),bad composition, inaccurate eyes, extra digit,fewer digits,(extra arms:1.2),easynegative  </textarea>
        </div>

        <div class="container mx-auto mt-10 p-2 automatic1111 horde">
          <div class="mb-6 border p-4 rounded border-gray-300 dark:border-gray-700">
            <div class="flex justify-between items-center">
              <h2 class="text-2xl font-bold mb-4 text-white">Loras</h2>
              <h2 id="loraCount" class="horde text-2xl font-bold mb-4 text-white mr-4">0/5</h2>
            </div>
            <div class="automatic1111 overflow-y-scroll max-h-60" id="sliderContainer">
              <!-- Lora elements will be added here dynamically -->
            </div>
            <div class="horde overflow-y-scroll max-h-80" id="horde_loraContainer">
              <!-- Lora elements will be added here dynamically -->

            </div>



          </div>
        </div>




        <script>
          // Function to format the slider value with a trailing ".0" if it's a whole number
          function formatSliderValue(value) {
            return value % 1 === 0 ? `${value}.0` : value;
          }

          // Listen for slider changes
          const sliders = document.querySelectorAll('.slider-container input');
          const weightDisplays = document.querySelectorAll('.weight-display');

          sliders.forEach((slider, index) => {
            slider.addEventListener('input', function () {
              const formattedValue = formatSliderValue(parseFloat(this.value));
              weightDisplays[index].textContent = formattedValue;
            });
          });
        </script>

        <!-- Settings -->

        <div id="accordion-open" data-accordion="open">
          <h2 id="accordion-open-heading-1">
            <button type="button"
              class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border border-b-0 border-gray-200 rounded-t-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"
              data-accordion-target="#accordion-open-body-1" aria-expanded="true" aria-controls="accordion-open-body-1">
              <span class="flex items-center"><svg class="w-5 h-5 mr-2 shrink-0" fill="currentColor" viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"></path>
                </svg>Settings</span>
              <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 5 5 1 1 5" />
              </svg>
            </button>
          </h2>
          <div id="accordion-open-body-1" class="hidden" aria-labelledby="accordion-open-heading-1">




            <div class="p-5 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900">

              <div class="mb-4 flex horde">
                <label class="block mr-2 text-gray-500 dark:text-gray-400" for="sampling-method">Model:</label>
                <select id="model-name" class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                  <option value="stable_diffusion">stable diffusion</option>
                </select>
                <!-- List Button-->
                <button id="listButton"
                  class="ml-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded"
                  data-modal-target="modelModal" data-modal-toggle="modelModal">
                  <i class="fa-solid fa-list"></i>
                </button>
              </div>

              <!-- Options Here -->
              <div class="flex mb-4">
                <!-- First row: Sampling method Dropdown -->
                <div class="mr-4">
                  <label class="block mb-2 text-gray-500 dark:text-gray-400" for="sampling-method">Sampling
                    method:</label>
                  <select id="sampling-method" class="bg-white border pr-10 pl-2 py-1.5 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                    <option value="Euler a">Euler a</option>
                    <option value="Euler">Euler</option>
                    <option value="LMS">LMS</option>
                    <option value="Heun">Heun</option>
                    <option value="DPM2">DPM2</option>
                    <option value="DPM2 a">DPM2 a</option>
                    <option value="DPM++ 2S a">DPM++ 2S a</option>
                    <option value="DPM++ 2M">DPM++ 2M</option>
                    <option value="DPM++ SDE">DPM++ SDE</option>
                    <option value="DPM++ 2M SDE">DPM++ 2M SDE</option>
                    <option value="DPM fast">DPM fast</option>
                    <option value="DPM adaptive">DPM adaptive</option>
                    <option value="LMS Karras">LMS Karras</option>
                    <option value="DPM2 Karras">DPM2 Karras</option>
                    <option value="DPM2 a Karras">DPM2 a Karras</option>
                    <option value="DPM++ 2S a Karras">DPM++ 2S a Karras</option>
                    <option value="DPM++ 2M Karras">DPM++ 2M Karras</option>
                    <option value="DPM++ SDE Karras">DPM++ SDE Karras</option>
                    <option value="DPM++ 2M SDE Karras">DPM++ 2M SDE Karras</option>
                    <option value="Restart">Restart</option>
                    <option value="DDIM">DDIM</option>
                    <option value="PLMS">PLMS</option>
                    <option value="UniPC">UniPC</option>
                  </select>
                </div>

                <!-- Steps slider (1-100 scale) -->
                <div class="mr-4">
                  <label id="steps-value" class="block mb-2 text-gray-500 dark:text-gray-400" for="steps-slider">Steps:
                    20</label>
                  <input type="range" id="steps-slider"
                    class="w-48 h-6 px-3 rounded-lg bg-blue-200 appearance-none dark:bg-gray-700 focus:ring-blue-200 dark:focus:ring-blue-800"
                    min="1" max="100" value="20" step="1">
                </div>

                <!-- Slider (1-30) -->
                <div>
                  <label id="scale-value" class="block mb-2 text-gray-500 dark:text-gray-400" for="scale-slider">CFG
                    Scale: 7</label>
                  <input type="range" id="scale-slider"
                    class="w-32 h-6 px-3 rounded-lg bg-blue-200 appearance-none dark:bg-gray-700 focus:ring-blue-200 dark:focus:ring-blue-800"
                    min="1" max="30" value="7" step="1">
                </div>
              </div>

              <div class="flex mb-4">
                <!-- Second Row: Seed number input -->

                <div>
                  <div class="mr-4">
                    <label class="block mb-2 text-gray-500 dark:text-gray-400" for="seed-input">Seed:</label>
                    <input type="number" id="seed-input"
                      class="w-32 p-2 border border-gray-300 dark:border-gray-700 rounded" min="-1">
                  </div>
                  <!--Randomize Button-->
                  <button id="randomizeBtn"
                    class="bg-gray-500 hover:bg-gray-600 text-white font-semibold py-1 px-2 mt-1 rounded"
                      onclick="document.getElementById('seed-input').value = -1"
                    >

                    <i class="fa-solid fa-shuffle"></i>
                  

                </div>


                <!-- Resolution slider -->
                <div class="mr-4">
                  <label id="widthText" class="block mb-2 text-gray-500 dark:text-gray-400" for="width-slider">Width:
                    512</label>
                  <input type="range" id="width-slider"
                    class="w-48 h-6 px-3 rounded-lg bg-blue-200 appearance-none dark:bg-gray-700 focus:ring-blue-200 dark:focus:ring-blue-800"
                    min="128" max="1024" step="64" value="512">
                  <label id="heightText" class="block mb-2 text-gray-500 dark:text-gray-400" for="height-slider">Height:
                    512</label>
                  <input type="range" id="height-slider"
                    class="w-48 h-6 px-3 rounded-lg bg-blue-200 appearance-none dark:bg-gray-700 focus:ring-blue-200 dark:focus:ring-blue-800"
                    min="128" max="1024" step="64" value="512">
                </div>

                <!-- Batch size slider -->
                <div>
                  
                  <!--Batch Count Slider-->
                  <div class="automatic1111">
                    <label id="batchCountValue" class=" block mb-2 text-gray-500 dark:text-gray-400 "
                      for="batch-count-slider">Batch Count: 1</label>
                    <input type="range" id="batchCountSlider"
                      class="w-32 h-6 px-3 rounded-lg bg-blue-200 appearance-none dark:bg-gray-700 focus:ring-blue-200 dark:focus:ring-blue-800"
                      min="1" max="10" step="1" value="1">
                  </div>


                  <div>
                    <label id="batchSizeValue" class="block mb-2 text-gray-500 dark:text-gray-400"
                      for="batch-size-slider">Batch Size: 1</label>
                    <input type="range" id="batchSizeSlider"
                      class="w-32 h-6 px-3 rounded-lg bg-blue-200 appearance-none dark:bg-gray-700 focus:ring-blue-200 dark:focus:ring-blue-800"
                      min="1" max="4" step="1" value="1">
                  </div>
                </div>

              </div>

              <!-- Horde Options-->


              <!-- Image Saving-->
              <div class="flex mb-4">

                <div class="horde mr-8">
                  <label for="allowNSFW" class="flex items-center cursor-pointer">
                    <span class="block text-gray-500 dark:text-gray-400 mr-2" title="Allow NSFW content">Allow
                      NSFW</span>
                    <input type="checkbox" id="allowNSFW" checked
                      class="form-checkbox h-6 w-6 text-red-600 dark:text-red-400 rounded-md focus:ring-red-200 dark:focus:ring-red-800">
                  </label>
                </div>
                <div class="horde mr-8">
                  <label for="slowWorkers" class="flex items-center cursor-pointer">
                    <span class="block text-gray-500 dark:text-gray-400 mr-2" title="Enable Slow Workers">Slow
                      Workers</span>
                    <input type="checkbox" id="slowWorkers" checked
                      class="form-checkbox h-6 w-6 text-green-600 dark:text-green-400 rounded-md focus:ring-green-200 dark:focus:ring-green-800">
                  </label>
                </div>


                <div class="mr-8 automatic1111">
                  <label for="saveToServer" class=" flex items-center cursor-pointer">
                    <span class="block text-gray-500 dark:text-gray-400 mr-2"
                      title="Save Images to Automatic1111 outputs. Also shows a grid of the generated images">Save
                      images
                      to server</span>
                    <input type="checkbox" id="saveToServer"
                      class="form-checkbox h-6 w-6 text-blue-600 dark:text-blue-400 rounded-md focus:ring-blue-200 dark:focus:ring-blue-800">
                  </label>
                </div>
                <div>
                  <label for="saveToHistory" class="flex items-center cursor-pointer">
                    <span class="block text-gray-500 dark:text-gray-400 mr-2"
                      title="Save Images to Local History Tab">Save images to History</span>
                    <input type="checkbox" checked id="saveToHistory"
                      class="form-checkbox h-6 w-6 text-blue-600 dark:text-blue-400 rounded-md focus:ring-blue-200 dark:focus:ring-blue-800">
                  </label>
                </div>
              </div>



            </div>
          </div>
          <h2 id="accordion-open-heading-3">
            <button type="button"
              class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"
              data-accordion-target="#accordion-open-body-3" aria-expanded="false"
              aria-controls="accordion-open-body-3">
              <span class="flex items-center"><svg class="w-5 h-5 mr-2 shrink-0" fill="currentColor" viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"></path>
                </svg>Img2img</span>
              <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 5 5 1 1 5" />
              </svg>
            </button>
          </h2>
          <div id="accordion-open-body-3" class="hidden" aria-labelledby="accordion-open-heading-3">
            <div class="p-5 border border-t-0 border-gray-200 dark:border-gray-700">
              <!--Image-->

              <div class="flex items-center mb-6">
                <!-- Display Uploaded Image -->
                <div class="mr-4 img" id="imageContainer">
                  <label for="imageInput" class="cursor-pointer">
                    <div class="relative">
                      <img id="uploadedImage"
                        class="w-48 h-48 object-cover border border-gray-500 rounded-lg shadow-md">
                      <img id="maskImage"
                        class="absolute top-0 left-0 w-full h-full object-cover rounded-lg opacity-75">
                      <button id="removeImageButton"
                        class="absolute top-1 right-1 p-1 rounded-full w-6 h-6 bg-black opacity-50 text-white text-sm font-bold cursor-pointer hidden">X</button>
                    </div>
                  </label>
                  <input type="file" id="imageInput" class="hidden" accept="image/png">
                </div>

                <!-- Weight Slider -->
                <div class>
                  <div id="imageUploadText" for="imageInput"><label class="block text-lg font-semibold mb-2">Upload
                      Image</label></div>
                  <div id="imageOptions" class="hidden">
                    <label class="block text-lg font-semibold mb-2">Denoising Strength: <span
                        id="weightValue">0.75</span></label>
                    <input type="range" id="weightSlider" min="0" max="1" step="0.01" value="0.75"
                      class="w-48 px-4 py-2 rounded-lg border border-gray-500 focus:outline-none focus:border-blue-500 text-lg" />
                    <p id="imagesizeText">Size: 512x512</p>

                    <button data-modal-target="paintModal" data-modal-toggle="paintModal" id="paintBtn"
                      class="border-2 border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white font-semibold py-2 px-4 rounded-lg">
                      <i class="fa-solid fa-paintbrush"></i> Inpaint
                    </button>
                    <button data-modal-target="canvasModal" data-modal-toggle="canvasModal" id="outPaintBtn"
                      class="hidden border-2 border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white font-semibold py-2 px-4 rounded-lg">
                      <i class="fa-solid fa-paintbrush"></i> Outpaint
                    </button>
                  </div>
                </div>
              </div>

              <!-- Nested accordion -->
              <div id="accordion-controlnet" data-accordion="collapse" class="hidden">
                <h2 id="accordion-controlnet-heading-1">
                  <button type="button"
                    class="flex items-center justify-between w-full p-5 rounded-t-xl font-medium text-left text-gray-500 border border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"
                    data-accordion-target="#accordion-controlnet-body-1" aria-expanded="false"
                    aria-controls="accordion-controlnet-body-1">
                    <span>Controlnet</span>
                    <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 5 5 1 1 5" />
                    </svg>
                  </button>
                </h2>
                <div id="accordion-controlnet-body-1" class="hidden" aria-labelledby="accordion-controlnet-heading-1">
                  <div class="p-5 border border-gray-200 dark:border-gray-700">
                    <p class="text-gray-500 dark:text-gray-400">The main difference is that the core components from
                      Flowbite are open source under the MIT license, whereas Tailwind UI is a paid product.</p>
                  </div>
                </div>
              </div>
              <!-- End: Nested accordion -->

              <!-- Nested accordion -->
              <div id="accordion-inpainting-options" data-accordion="collapse" class="hidden">
                <h2 id="accordion-inpainting-options-heading-1">
                  <button type="button"
                    class="flex items-center justify-between w-full p-5 rounded-t-xl font-medium text-left text-gray-500 border border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"
                    data-accordion-target="#accordion-inpainting-options-body-1" aria-expanded="false"
                    aria-controls="accordion-inpainting-options-body-1">
                    <span>Inpainting Options</span>
                    <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 5 5 1 1 5" />
                    </svg>
                  </button>
                </h2>
                <div id="accordion-inpainting-options-body-1" class="hidden"
                  aria-labelledby="accordion-inpainting-options-heading-1">
                  <div class="p-5 border border-gray-200 dark:border-gray-700 space-y-6">


                    <!-- Row 0: Use Controlnet toggle -->
                    <div class="flex items-center space-x-4">
                      <span class="text-white">Use Controlnet:</span>
                      <label for="use-controlnet"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="checkbox" id="use-controlnet" checked>
                        <span class="ml-2">Controlnet</span>
                      </label>
                    </div>


                    <!-- Row 1: Mask mode -->
                    <div class="flex items-center space-x-4">
                      <span class="text-white">Mask mode:</span>
                      <label for="inpaint-masked"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="radio" id="inpaint-masked" name="mask-mode" value="0" checked>
                        <span class="ml-2">Inpaint masked</span>
                      </label>
                      <label for="inpaint-not-masked"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="radio" id="inpaint-not-masked" name="mask-mode" value="1">
                        <span class="ml-2">Inpaint Not masked</span>
                      </label>
                    </div>

                    <!-- Row 2: Masked content fill -->
                    <div class="flex items-center space-x-4">
                      <span class="text-white">Masked content fill:</span>
                      <label for="fill"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="radio" id="fill" name="masked-fill" value="0">
                        <span class="ml-2">Fill</span>
                      </label>
                      <label for="original"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="radio" id="original" name="masked-fill" value="1" checked>
                        <span class="ml-2">Original</span>
                      </label>
                      <label for="latent-noise-fill"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="radio" id="latent-noise-fill" name="masked-fill" value="2">
                        <span class="ml-2">noise</span>
                      </label>
                      <label for="latent-nothing-fill"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="radio" id="latent-nothing-fill" name="masked-fill" value="3">
                        <span class="ml-2">nothing</span>
                      </label>
                    </div>

                    <!-- Row 3: Inpaint area -->
                    <div class="flex items-center space-x-4">
                      <span class="text-white">Inpaint area:</span>
                      <label for="whole-picture"
                        class="flex items-center text-white rounded-lg bg-gray-500 border-gray-600 border-2 px-4 py-2 cursor-pointer">
                        <input type="radio" id="whole-picture" name="inpaint-area" value="false" checked>
                        <span class="ml-2">Whole picture</span>
                      </label>
                      <label for="only-masked"
                        class="flex items-center text-white rounded-lg bg-gray-500 px-4 py-2 cursor-pointer">
                        <input type="radio" id="only-masked" name="inpaint-area" value="true">
                        <span class="ml-2">Only Masked</span>
                      </label>
                    </div>

                    <!-- Row 4: Pixels 0-256 slider -->
                    <div class="flex items-center space-x-4">
                      <span class="text-white">Only masked padding, pixels:</span>
                      <input type="range" id="pixels-slider" min="0" max="256" step="4" value="32">
                      <span id="pixels-slider-value" class="text-white">128</span>
                    </div>

                  </div>
                </div>
              </div>
              <!-- End: Nested accordion -->
            </div>
          </div>
        </div>

        <div class="h-16"></div>
      </div>

      <div class="comfyui" id="comfyInputs">

      </div>

    </div>


    <!-- Loras -->
    <div id="loraViewContainer" class="w-full md:w-1/3 md:max-w-1/3 bg-gray-900  max-h-full automatic1111">
      <div class="mx-auto px-4 py-8 sm:px-6 sm:py-12 h-full max-h-screen">

        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold tracking-tight text-white">Extra Networks</h2>
          <!-- Search bar -->
          <div class="ml-4 flex">
            <input type="text" id="searchInput"
              class="w-full px-4 py-2 text-gray-900 rounded-lg border border-gray-300 focus:ring focus:ring-blue-300"
              placeholder="Search...">
            <button data-dropdown-toggle="dropdown"
              class="ml-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:ring focus:ring-blue-300"
              id="filterButton">
              <i class="fas fa-filter mr-2"></i>
            </button>
          </div>
        </div>



        <div id="categories" class="automatic1111">
          <!-- Categories added by script go here-->
        </div>
        <div id="tags" class="horde overflow-x-auto h-6 flex overflow-y-hidden no-scrollbar mb-4"
          style="white-space: nowrap; width: 100%">
          <!-- Add your content here -->
        </div>



        <div class="mt-2 overflow-x-auto hidden">
          <div id=""
            class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-10  overflow-y-auto"
            style="max-height: 70vh;">


            <div
              class="group relative lora bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
              id="5477">
              <div class=" overflow-hidden rounded-t-lg bg-gray-200 group-hover:opacity-75 lg:h-100">
                <img
                  src="https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/fa691f6a-40b3-43a3-ead4-764634715a00/width=450/56936.jpeg"
                  alt="Lora Thumbnail" class="object-cover object-center aspect-2/3">
              </div>
              <div class="mt-4" style="cursor: pointer;" data-modal-target="loraInfoModal"
                data-modal-toggle="loraInfoModal">
                <h3 class="text-sm text-gray-700"><a
                    class="mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white whitespace-normal break-words"><span></span>Lucy
                    (Cyberpunk Edgerunners) LoRA</a></h3>
                <div class="flex m-2">
                  <img class="w-10 h-10 rounded-full"
                    src="https://cdn.discordapp.com/avatars/180327464155742208/59254be18ccd627daf138d053327485d.png"
                    alt="Rounded avatar">
                  <p class="mb-3 my-auto ml-2 font-normal text-gray-700 dark:text-gray-400 ">Lykon</p>
                </div>
              </div>
            </div>



          </div>
        </div>
        <div class="mt-6 overflow-x-auto h-full">
          <div id="lorasContainer"
            class="md:h-full mb-16 pb-32 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-x-2 gap-y-4 max-w-screen overflow-y-auto">
            <!-- Loras added by script go here -->
          </div>
        </div>
      </div>
    </div>

    <div id="offlineBanner"
      class="comfyui automatic1111 bg-red-500 text-white text-center py-2 hidden fixed bottom-0 w-screen">Offline</div>
    <div id="connectingBanner"
      class="comfyui automatic1111 bg-blue-500 text-white text-center py-2 fixed bottom-0 w-screen">Connecting...
    </div>

  </div>
  <iframe id="nodes-iframe" class="w-full fixed bottom-0 h-full hidden"></iframe>






  <script src='https://unpkg.com/panzoom@9.4.0/dist/panzoom.min.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.0/flowbite.min.js"></script>
  <script src="scripts/variables.js"></script>
  <script src="scripts/automatic1111.js"></script>
  <script src="scripts/comfyui.js"></script>
  <script src="scripts/horde.js"></script>
  <script src="scripts/networks.js"></script>
  <script src="scripts/script.js"></script>
  <script src="scripts/ServerManager.js"></script>
  <script src="scripts/saving.js"></script>
</body>

<style>
  #imageDisplay {
    height: 80%;
  }

  #outputImage {
    max-height: 85%;

    @media (min-width: 768px) {
      max-height: 85%;
    }

    @media (min-width: 1024px) {
      max-height: 90%;
    }

    max-width: 100%;
    height: auto;
    margin: auto;
    margin-top: auto;
    margin-bottom: auto;
  }
</style>


</html>